<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Spokes</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html {
        /* Prevent iOS Safari from treating touches as scroll gestures
           before they reach the Phaser canvas. */
        overflow: hidden;
        touch-action: none;
        height: 100%;
      }
      body {
        background: #0a0a0a;
        overflow: hidden;
        touch-action: none;
        /* Give the body an explicit size so Phaser's RESIZE mode can
           read a non-zero parent dimension on initial load, avoiding
           the circular-dependency where the canvas size depends on the
           parent whose size depends on the canvas. */
        width: 100%;
        height: 100%;
      }
      #game-container {
        /* Explicit 100% fill breaks the circular dependency: Phaser reads
           clientWidth/clientHeight here and gets the real viewport size,
           then sizes (and scales) the canvas to match on every device
           orientation. Without this, on portrait mobile the canvas can
           remain stuck at the configured 960×540 landscape default. */
        display: block;
        width: 100%;
        height: 100%;
      }
      #unsupported-banner {
        display: none;
        width: 100%;
        background-color: #ff4757;
        color: white;
        text-align: center;
        padding: 15px;
        font-family: sans-serif;
        font-size: 14px;
        line-height: 1.6;
        z-index: 9999;
        position: absolute;
        top: 0;
      }
      #unsupported-banner a {
        color: #fffa65;
        text-decoration: none;
        font-weight: bold;
      }
      #unsupported-banner a:hover {
        text-decoration: underline;
      }
      #unsupported-banner .close-btn {
        position: absolute;
        right: 15px;
        top: 15px;
        cursor: pointer;
        font-size: 20px;
        font-weight: bold;
        line-height: 1;
        opacity: 0.7;
      }
      #unsupported-banner .close-btn:hover {
        opacity: 1;
      }
      @media (max-width: 600px) {
        #unsupported-banner {
          padding: 10px 40px 10px 10px;
          font-size: 12px;
          text-align: left;
        }
      }
    </style>
  </head>
  <body>
    <div id="unsupported-banner">
      <span class="close-btn" onclick="this.parentElement.style.display='none'; this.parentElement.dataset.dismissed='true';">×</span>
      This browser is NOT supported. Please open the app with
      <a href="https://www.google.com/chrome/" target="_blank">Chrome</a> or 
      <a href="https://www.microsoft.com/edge" target="_blank">Edge</a>.
      <br />
      Please note that <strong>iOS is NOT supported at all</strong>, regardless of browser.
      <br />
      For more information visit the project <a href="https://github.com/alexkibler/spokes" target="_blank">Page</a>.
    </div>
    <div id="game-container"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
